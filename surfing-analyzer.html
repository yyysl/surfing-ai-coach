<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冲浪AI教练 - 智能视频分析系统</title>
    <link rel="stylesheet" href="surfing-analyzer.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-water"></i>
                <h1>冲浪AI教练 - 智能视频分析</h1>
            </div>
            <p class="subtitle">AI驱动的冲浪动作分析，实时标注优化建议</p>
        </header>

        <!-- 主要内容区域 -->
        <main class="main-content">
            <!-- 视频上传区域 -->
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>上传冲浪视频</h3>
                        <p>支持 MP4, MOV, AVI 格式，最大 200MB</p>
                        <button class="upload-btn" id="uploadBtn">选择视频文件</button>
                        <input type="file" id="videoInput" accept="video/*" style="display: none;">
                    </div>
                </div>
            </div>

            <!-- 视频预览区域 -->
            <div class="video-section" id="videoSection" style="display: none;">
                <h3>原始视频预览</h3>
                <div class="video-container">
                    <video id="videoPlayer" controls>
                        您的浏览器不支持视频播放
                    </video>
                </div>
                <div class="video-actions">
                    <button class="analyze-btn" id="analyzeBtn">
                        <i class="fas fa-brain"></i>
                        开始AI分析
                    </button>
                    <button class="reset-btn" id="resetBtn">
                        <i class="fas fa-redo"></i>
                        重新上传
                    </button>
                </div>
            </div>

            <!-- AI分析进度区域 -->
            <div class="analysis-progress" id="analysisProgress" style="display: none;">
                <h3>AI分析进度</h3>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">准备分析...</div>
                </div>
                <div class="analysis-steps">
                    <div class="step active" id="step1">
                        <i class="fas fa-eye"></i>
                        <span>识别冲浪者</span>
                    </div>
                    <div class="step" id="step2">
                        <i class="fas fa-route"></i>
                        <span>分析动作轨迹</span>
                    </div>
                    <div class="step" id="step3">
                        <i class="fas fa-lightbulb"></i>
                        <span>生成优化建议</span>
                        </div>
                    <div class="step" id="step4">
                        <i class="fas fa-video"></i>
                        <span>生成分析视频</span>
                    </div>
                </div>
            </div>

            <!-- 分析结果区域 -->
            <div class="analysis-results" id="analysisResults" style="display: none;">
                <h3>AI分析结果</h3>
                
                <!-- 分析摘要 -->
                <div class="analysis-summary">
                    <div class="summary-card">
                        <h4>总体评分</h4>
                        <div class="score">8.7<span>/10</span></div>
                        <p class="score-description">表现优秀，技术娴熟</p>
                    </div>
                    <div class="summary-card">
                        <h4>视频时长</h4>
                        <div class="duration">2:45</div>
                        <p class="duration-description">分析完成</p>
                    </div>
                    <div class="summary-card">
                        <h4>关键动作</h4>
                        <div class="actions-count">12</div>
                        <p class="actions-description">个动作点</p>
                    </div>
                </div>

                <!-- 动作分析列表 -->
                <div class="actions-analysis">
                    <h4>动作分析详情</h4>
                    <div class="actions-timeline">
                        <div class="action-item">
                            <div class="action-time">0:15</div>
                            <div class="action-content">
                                <h5>起乘动作</h5>
                                <p>时机把握准确，重心控制良好</p>
                                <div class="action-tags">
                                    <span class="tag positive">优秀</span>
                                    <span class="tag technique">起乘</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="action-item">
                            <div class="action-time">0:28</div>
                            <div class="action-content">
                                <h5>转向时机</h5>
                                <p>建议在浪峰处提前0.3秒开始转向</p>
                                <div class="action-tags">
                                    <span class="tag warning">需改进</span>
                                    <span class="tag technique">转向</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="action-item">
                            <div class="action-time">0:42</div>
                            <div class="action-content">
                                <h5>回切动作</h5>
                                <p>回切角度适中，但可以更激进一些</p>
                                <div class="action-tags">
                                    <span class="tag improvement">可优化</span>
                                    <span class="tag technique">回切</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 分析视频播放区域 -->
                <div class="analyzed-video-section">
                    <h4>AI分析视频</h4>
                    <div class="video-container">
                        <div class="video-wrapper">
                            <video id="analyzedVideo" controls>
                                您的浏览器不支持视频播放
                            </video>
                            <div class="video-overlay" id="videoOverlay">
                                <!-- AI分析的标注将在这里显示 -->
                            </div>
                        </div>
                    </div>
                    <div class="video-controls">
                        <button class="download-btn" id="downloadBtn">
                            <i class="fas fa-download"></i>
                            下载分析视频
                        </button>
                        <button class="share-btn" id="shareBtn">
                            <i class="fas fa-share"></i>
                            分享结果
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- 底部信息 -->
        <footer class="footer">
            <p>&copy; 2024 冲浪AI教练. 让AI助你成为更好的冲浪者</p>
        </footer>
    </div>

    <!-- 设置面板 -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h3>AI分析设置</h3>
            <button class="close-btn" id="closeSettings">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="settings-content">
            <div class="setting-item">
                <label for="openaiKey">OpenAI API Key:</label>
                <input type="password" id="openaiKey" placeholder="输入你的OpenAI API Key">
            </div>
            <div class="setting-item">
                <label for="analysisLevel">分析深度:</label>
                <select id="analysisLevel">
                    <option value="basic">基础分析</option>
                    <option value="detailed" selected>详细分析</option>
                    <option value="expert">专家级分析</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="openaiKey">视频质量:</label>
                <select id="videoQuality">
                    <option value="720p">720p</option>
                    <option value="1080p" selected>1080p</option>
                    <option value="4k">4K</option>
                </select>
            </div>
            <button class="save-settings-btn" id="saveSettings">保存设置</button>
        </div>
    </div>

    <!-- 设置按钮 -->
    <button class="settings-btn" id="openSettings">
        <i class="fas fa-cog"></i>
    </button>

    <script src="ai-analyzer.js"></script>
    <script src="video-processor.js"></script>
    <script src="surfing-analyzer.js"></script>
</body>
</html>
